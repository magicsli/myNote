# 笔记五

###生命周期中的运行阶段

- 运行中一共有两个钩子函数

  - `beforeUpdate`

    - 表示数据更新前
    - 不主动执行, 当数据修改才会触发
    - 这个钩子函数中:
      - 数据拿到了, 并且拿到的是修改后的数据
      - DOM也输出了

    + 这个钩子函数更多的工作内容为:  生产新的VDOM, 然后通过diff算法, 进行两次VDOM, 对比
    + 这个钩子在项目中
      + 因为他主要做的事情是内部进行,所以对我们而言没有太多操作意义

  

  - `updated`
    - 表示更新完成



+ 总结:  数据根性, 也要进行DOM操作, 我们使用updated



### 生命周期的卸载阶段

- 用过销毁开关:   
  - 这个组件真实DOM也会被删除
- 通过调用 `VM.$destory()`
  - 这个组件的被删除了, 但是它的真实DOM的HTML结构还在

+ 销毁阶段的两个钩子:
  + `beforeDestory`               -- 销毁前

  + `destoryed`                       -- 销毁后

    ​	- 用来做善后工作, 清理变量内存





### 生命周期使用

- 1, 直接写死了:
  - DOM没有渲染
  - 数据直接有了
- 2, 数据请求
  - 我们常规是往updated钩子里面写, 但是遇到问题了?
  - 问题:  当我们有其他数据更新时, updated钩子就会重复触发
    - 增加一个判断, 
    - 使用promise, 在请回数据后第三方实例初始化
    - `Vue.nextTick()`  / `this.$nextTick()`